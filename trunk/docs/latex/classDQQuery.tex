\hypertarget{classDQQuery}{
\section{DQQuery$<$ T $>$ Class Template Reference}
\label{classDQQuery}\index{DQQuery@{DQQuery}}
}


\hyperlink{classDQQuery}{DQQuery} is a template class for performing database queries and record deletion on specific model.  




{\ttfamily \#include $<$dqquery.h$>$}

Inheritance diagram for DQQuery$<$ T $>$:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classDQQuery}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classDQQuery_ab4e826cbfc7c9f97298db3cec73cda7a}{
\hyperlink{classDQQuery_ab4e826cbfc7c9f97298db3cec73cda7a}{DQQuery} ()}
\label{classDQQuery_ab4e826cbfc7c9f97298db3cec73cda7a}

\begin{DoxyCompactList}\small\item\em Construct q \hyperlink{classDQQuery}{DQQuery} and use default connection. \item\end{DoxyCompactList}\item 
\hypertarget{classDQQuery_ad482bf97ac04b7f0e18a5935458d2f78}{
\hyperlink{classDQQuery_ad482bf97ac04b7f0e18a5935458d2f78}{DQQuery} (\hyperlink{classDQConnection}{DQConnection} connection)}
\label{classDQQuery_ad482bf97ac04b7f0e18a5935458d2f78}

\begin{DoxyCompactList}\small\item\em Construct a \hyperlink{classDQQuery}{DQQuery} object and set the database connection. \item\end{DoxyCompactList}\item 
\hypertarget{classDQQuery_ae0619c8a4591c283c43292ed2cada624}{
\hyperlink{classDQQuery_ae0619c8a4591c283c43292ed2cada624}{DQQuery} (const \hyperlink{classDQSharedQuery}{DQSharedQuery} \&rhs)}
\label{classDQQuery_ae0619c8a4591c283c43292ed2cada624}

\begin{DoxyCompactList}\small\item\em Copy and convert from a \hyperlink{classDQSharedQuery}{DQSharedQuery} instance. \item\end{DoxyCompactList}\item 
\hypertarget{classDQQuery_a2e98e4b56549ea22b28513223eeb2815}{
\hyperlink{classDQQuery}{DQQuery} \& \hyperlink{classDQQuery_a2e98e4b56549ea22b28513223eeb2815}{operator=} (const \hyperlink{classDQQuery}{DQQuery} \&rhs)}
\label{classDQQuery_a2e98e4b56549ea22b28513223eeb2815}

\begin{DoxyCompactList}\small\item\em Copy from other \hyperlink{classDQQuery}{DQQuery} instance. \item\end{DoxyCompactList}\item 
\hypertarget{classDQQuery_abd9bc6a6467ee3ddbb00ebdac66ed1ec}{
\hyperlink{classDQQuery}{DQQuery} \& \hyperlink{classDQQuery_abd9bc6a6467ee3ddbb00ebdac66ed1ec}{operator=} (const \hyperlink{classDQSharedQuery}{DQSharedQuery} \&rhs)}
\label{classDQQuery_abd9bc6a6467ee3ddbb00ebdac66ed1ec}

\begin{DoxyCompactList}\small\item\em Copy and convert from a \hyperlink{classDQSharedQuery}{DQSharedQuery} instance. \item\end{DoxyCompactList}\item 
\hypertarget{classDQQuery_a167838122e9c4ba9e78618df9f5f2697}{
bool \hyperlink{classDQQuery_a167838122e9c4ba9e78618df9f5f2697}{recordTo} (T \&model)}
\label{classDQQuery_a167838122e9c4ba9e78618df9f5f2697}

\begin{DoxyCompactList}\small\item\em Save the next record to \hyperlink{classDQModel}{DQModel}. \item\end{DoxyCompactList}\item 
\hypertarget{classDQQuery_a40daff202edfbe3ef34b63bff71436f3}{
T \hyperlink{classDQQuery_a40daff202edfbe3ef34b63bff71436f3}{record} ()}
\label{classDQQuery_a40daff202edfbe3ef34b63bff71436f3}

\begin{DoxyCompactList}\small\item\em Read the next record. \item\end{DoxyCompactList}\item 
\hypertarget{classDQSharedQuery_a3f59e7684a41586b3bd1b06fc847b024}{
void \hyperlink{classDQSharedQuery_a3f59e7684a41586b3bd1b06fc847b024}{setConnection} (\hyperlink{classDQConnection}{DQConnection} connection)}
\label{classDQSharedQuery_a3f59e7684a41586b3bd1b06fc847b024}

\begin{DoxyCompactList}\small\item\em Set the connection. \item\end{DoxyCompactList}\item 
\hyperlink{classDQSharedQuery}{DQSharedQuery} \hyperlink{classDQSharedQuery_a60a2efb0904f71a2b65adc780fe86079}{select} (QStringList fields)
\begin{DoxyCompactList}\small\item\em Construct a new query object with only the fields assigned in result. \item\end{DoxyCompactList}\item 
\hyperlink{classDQSharedQuery}{DQSharedQuery} \hyperlink{classDQSharedQuery_a358915a000eb6fe7e1e7f1d32c0f34b8}{select} (QString field)
\begin{DoxyCompactList}\small\item\em Construct a new query object with only a single field in result. \item\end{DoxyCompactList}\item 
\hypertarget{classDQSharedQuery_ac2cfe9a2d996d9b5cf6ce4c8726dc233}{
\hyperlink{classDQSharedQuery}{DQSharedQuery} \hyperlink{classDQSharedQuery_ac2cfe9a2d996d9b5cf6ce4c8726dc233}{filter} (\hyperlink{classDQWhere}{DQWhere} where)}
\label{classDQSharedQuery_ac2cfe9a2d996d9b5cf6ce4c8726dc233}

\begin{DoxyCompactList}\small\item\em Construct a new query object with assigned filter. \item\end{DoxyCompactList}\item 
\hypertarget{classDQSharedQuery_af1692cc5a046c2061486277f15545af1}{
\hyperlink{classDQSharedQuery}{DQSharedQuery} \hyperlink{classDQSharedQuery_af1692cc5a046c2061486277f15545af1}{limit} (int val)}
\label{classDQSharedQuery_af1692cc5a046c2061486277f15545af1}

\begin{DoxyCompactList}\small\item\em Construct a new query object with limitation no. of result. \item\end{DoxyCompactList}\item 
\hyperlink{classDQSharedQuery}{DQSharedQuery} \hyperlink{classDQSharedQuery_a5bb811ceac95142fb45e2b1b0230fe76}{orderBy} (QStringList terms)
\begin{DoxyCompactList}\small\item\em Construct a new query object with required sorting order. \item\end{DoxyCompactList}\item 
\hyperlink{classDQSharedQuery}{DQSharedQuery} \hyperlink{classDQSharedQuery_aed99232bd84c8871265ab567b5550fe2}{orderBy} (QString term)
\begin{DoxyCompactList}\small\item\em Construct a new query object with required sorting order. \item\end{DoxyCompactList}\item 
\hypertarget{classDQSharedQuery_af9cb13ee212cf95235f982360755c263}{
bool \hyperlink{classDQSharedQuery_af9cb13ee212cf95235f982360755c263}{exec} ()}
\label{classDQSharedQuery_af9cb13ee212cf95235f982360755c263}

\begin{DoxyCompactList}\small\item\em Execute the query. \item\end{DoxyCompactList}\item 
\hypertarget{classDQSharedQuery_a454580a6ba5a8d27690b7cada60cf696}{
bool \hyperlink{classDQSharedQuery_a454580a6ba5a8d27690b7cada60cf696}{next} ()}
\label{classDQSharedQuery_a454580a6ba5a8d27690b7cada60cf696}

\begin{DoxyCompactList}\small\item\em Retrieves the next record in the result, if available, and positions the query on the retrieved record. \item\end{DoxyCompactList}\item 
\hypertarget{classDQSharedQuery_a2e4b80d4ddab5c7476fd5795a7321f0a}{
QVariant \hyperlink{classDQSharedQuery_a2e4b80d4ddab5c7476fd5795a7321f0a}{value} ()}
\label{classDQSharedQuery_a2e4b80d4ddab5c7476fd5795a7321f0a}

\begin{DoxyCompactList}\small\item\em Retrieves the first field of the current record. It is useful for query like \hyperlink{classDQSharedQuery_a371f26bb8cec5fafe81738ecbe899601}{count()} / max() , ... that will only have a single field result. \item\end{DoxyCompactList}\item 
\hypertarget{classDQSharedQuery_a371f26bb8cec5fafe81738ecbe899601}{
int \hyperlink{classDQSharedQuery_a371f26bb8cec5fafe81738ecbe899601}{count} ()}
\label{classDQSharedQuery_a371f26bb8cec5fafe81738ecbe899601}

\begin{DoxyCompactList}\small\item\em Execute the query and count no. of record retrieved. \item\end{DoxyCompactList}\item 
QVariant \hyperlink{classDQSharedQuery_a654c57e67ee37ea4483f749cfdda45ee}{call} (QString func, QStringList fields=QStringList())
\begin{DoxyCompactList}\small\item\em Execute the query and call specific function on the result. \item\end{DoxyCompactList}\item 
QVariant \hyperlink{classDQSharedQuery_a6e4ec97801fba34687bed3f7df331c70}{call} (QString func, QString field)
\begin{DoxyCompactList}\small\item\em Execute the query and call specific function on the result. \item\end{DoxyCompactList}\item 
bool \hyperlink{classDQSharedQuery_afe36230dc5efa50e5ea9456725b5b4b9}{remove} ()
\begin{DoxyCompactList}\small\item\em Delete all the records fullfill the filter rules. \item\end{DoxyCompactList}\item 
\hypertarget{classDQSharedQuery_a5f1f9c78ce1ac9f0416429a14b0f7ed7}{
\hyperlink{classDQSharedList}{DQSharedList} \hyperlink{classDQSharedQuery_a5f1f9c78ce1ac9f0416429a14b0f7ed7}{all} ()}
\label{classDQSharedQuery_a5f1f9c78ce1ac9f0416429a14b0f7ed7}

\begin{DoxyCompactList}\small\item\em Execute the query and return all the record retrieved. \item\end{DoxyCompactList}\item 
\hypertarget{classDQSharedQuery_af0ef4297145b4e4848a88ed0deddcdc9}{
QSqlQuery \hyperlink{classDQSharedQuery_af0ef4297145b4e4848a88ed0deddcdc9}{lastQuery} ()}
\label{classDQSharedQuery_af0ef4297145b4e4848a88ed0deddcdc9}

\begin{DoxyCompactList}\small\item\em Returns the QSqlQuery object being used. \item\end{DoxyCompactList}\item 
\hypertarget{classDQSharedQuery_a832dba063797f053dbef29ae8c90c804}{
void \hyperlink{classDQSharedQuery_a832dba063797f053dbef29ae8c90c804}{reset} ()}
\label{classDQSharedQuery_a832dba063797f053dbef29ae8c90c804}

\begin{DoxyCompactList}\small\item\em Reset the query to initial status , but keep the connection and associated object unchanged. \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classDQSharedQuery_a18f2c23017b66343dbbfd0ffc3a171e7}{
void \hyperlink{classDQSharedQuery_a18f2c23017b66343dbbfd0ffc3a171e7}{setMetaInfo} (\hyperlink{classDQModelMetaInfo}{DQModelMetaInfo} $\ast$info)}
\label{classDQSharedQuery_a18f2c23017b66343dbbfd0ffc3a171e7}

\begin{DoxyCompactList}\small\item\em Set the associated data model. \item\end{DoxyCompactList}\item 
\hypertarget{classDQSharedQuery_a14865995b6d86072f3f69c8770d53d0b}{
bool \hyperlink{classDQSharedQuery_a14865995b6d86072f3f69c8770d53d0b}{recordTo} (\hyperlink{classDQAbstractModel}{DQAbstractModel} $\ast$model)}
\label{classDQSharedQuery_a14865995b6d86072f3f69c8770d53d0b}

\begin{DoxyCompactList}\small\item\em Save the current record to a \hyperlink{classDQModel}{DQModel}. \item\end{DoxyCompactList}\item 
bool \hyperlink{classDQSharedQuery_a62635ab0fa890f085fe2e02bd5d2064e}{get} (\hyperlink{classDQAbstractModel}{DQAbstractModel} $\ast$model)
\begin{DoxyCompactList}\small\item\em Get a single record that first match with the filter (limit(1) will be set). \item\end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
\subsubsection*{template$<$typename T$>$ class DQQuery$<$ T $>$}

\hyperlink{classDQQuery}{DQQuery} is a template class for performing database queries and record deletion on specific model. \begin{DoxyRemark}{Remarks}
It is a implicitly shared class 
\end{DoxyRemark}


\subsection{Member Function Documentation}
\hypertarget{classDQSharedQuery_a654c57e67ee37ea4483f749cfdda45ee}{
\index{DQQuery@{DQQuery}!call@{call}}
\index{call@{call}!DQQuery@{DQQuery}}
\subsubsection[{call}]{\setlength{\rightskip}{0pt plus 5cm}QVariant DQSharedQuery::call (
\begin{DoxyParamCaption}
\item[{QString}]{ func, }
\item[{QStringList}]{ fields = {\ttfamily QStringList()}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}inherited\mbox{]}}}}
\label{classDQSharedQuery_a654c57e67ee37ea4483f749cfdda45ee}


Execute the query and call specific function on the result. 


\begin{DoxyParams}{Parameters}
\item[{\em func}]The function name (e.g sum , avg , ...) \item[{\em fields}]A list of fields that could be passed to the function \end{DoxyParams}
\hypertarget{classDQSharedQuery_a6e4ec97801fba34687bed3f7df331c70}{
\index{DQQuery@{DQQuery}!call@{call}}
\index{call@{call}!DQQuery@{DQQuery}}
\subsubsection[{call}]{\setlength{\rightskip}{0pt plus 5cm}QVariant DQSharedQuery::call (
\begin{DoxyParamCaption}
\item[{QString}]{ func, }
\item[{QString}]{ field}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}inherited\mbox{]}}}}
\label{classDQSharedQuery_a6e4ec97801fba34687bed3f7df331c70}


Execute the query and call specific function on the result. 


\begin{DoxyParams}{Parameters}
\item[{\em func}]The function name (e.g sum , avg , ...) \item[{\em field}]The field that should be passed to the function \end{DoxyParams}
\hypertarget{classDQSharedQuery_a62635ab0fa890f085fe2e02bd5d2064e}{
\index{DQQuery@{DQQuery}!get@{get}}
\index{get@{get}!DQQuery@{DQQuery}}
\subsubsection[{get}]{\setlength{\rightskip}{0pt plus 5cm}bool DQSharedQuery::get (
\begin{DoxyParamCaption}
\item[{{\bf DQAbstractModel} $\ast$}]{ model}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected, inherited\mbox{]}}}}
\label{classDQSharedQuery_a62635ab0fa890f085fe2e02bd5d2064e}


Get a single record that first match with the filter (limit(1) will be set). 


\begin{DoxyParams}{Parameters}
\item[{\em model}]The record will be saved to the object \end{DoxyParams}
\begin{DoxyReturn}{Returns}
TRUE if success , the result will be saved to the model argument. Otherwise it is false. 
\end{DoxyReturn}
\hypertarget{classDQSharedQuery_a5bb811ceac95142fb45e2b1b0230fe76}{
\index{DQQuery@{DQQuery}!orderBy@{orderBy}}
\index{orderBy@{orderBy}!DQQuery@{DQQuery}}
\subsubsection[{orderBy}]{\setlength{\rightskip}{0pt plus 5cm}{\bf DQSharedQuery} DQSharedQuery::orderBy (
\begin{DoxyParamCaption}
\item[{QStringList}]{ terms}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}inherited\mbox{]}}}}
\label{classDQSharedQuery_a5bb811ceac95142fb45e2b1b0230fe76}


Construct a new query object with required sorting order. 


\begin{DoxyParams}{Parameters}
\item[{\em terms}]The ordering terms\end{DoxyParams}
The ordering terms is basically equal to the field name. You may add the clause ASC / DESC next to the field name, then it will be sorted by asc / desc ordering.

Example: 
\begin{DoxyCode}
    DQQuery<HealthCheck> query;

    DQList<HealthCheck> result;

    result = query.orderBy("height").all();
    result = query.orderBy("height asc").all();
    result = query.orderBy("height desc").all();
\end{DoxyCode}
 \hypertarget{classDQSharedQuery_aed99232bd84c8871265ab567b5550fe2}{
\index{DQQuery@{DQQuery}!orderBy@{orderBy}}
\index{orderBy@{orderBy}!DQQuery@{DQQuery}}
\subsubsection[{orderBy}]{\setlength{\rightskip}{0pt plus 5cm}{\bf DQSharedQuery} DQSharedQuery::orderBy (
\begin{DoxyParamCaption}
\item[{QString}]{ term}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}inherited\mbox{]}}}}
\label{classDQSharedQuery_aed99232bd84c8871265ab567b5550fe2}


Construct a new query object with required sorting order. 

It is a overloaded function \hypertarget{classDQSharedQuery_afe36230dc5efa50e5ea9456725b5b4b9}{
\index{DQQuery@{DQQuery}!remove@{remove}}
\index{remove@{remove}!DQQuery@{DQQuery}}
\subsubsection[{remove}]{\setlength{\rightskip}{0pt plus 5cm}bool DQSharedQuery::remove (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}inherited\mbox{]}}}}
\label{classDQSharedQuery_afe36230dc5efa50e5ea9456725b5b4b9}


Delete all the records fullfill the filter rules. 

\begin{DoxyReturn}{Returns}
TRUE if the operation is successfully run , otherwise it is false. 
\end{DoxyReturn}
\hypertarget{classDQSharedQuery_a60a2efb0904f71a2b65adc780fe86079}{
\index{DQQuery@{DQQuery}!select@{select}}
\index{select@{select}!DQQuery@{DQQuery}}
\subsubsection[{select}]{\setlength{\rightskip}{0pt plus 5cm}{\bf DQSharedQuery} DQSharedQuery::select (
\begin{DoxyParamCaption}
\item[{QStringList}]{ fields}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}inherited\mbox{]}}}}
\label{classDQSharedQuery_a60a2efb0904f71a2b65adc780fe86079}


Construct a new query object with only the fields assigned in result. 

By default, \hyperlink{classDQSharedQuery}{DQSharedQuery} retrieve all the field of the model. Call this function if you only interest for specific fields.

\begin{DoxyRemark}{Remarks}
If you don't specific the \char`\"{}id\char`\"{} field. It will not load the field. If you save the model , it will insert a new entity to the database. 
\end{DoxyRemark}
\hypertarget{classDQSharedQuery_a358915a000eb6fe7e1e7f1d32c0f34b8}{
\index{DQQuery@{DQQuery}!select@{select}}
\index{select@{select}!DQQuery@{DQQuery}}
\subsubsection[{select}]{\setlength{\rightskip}{0pt plus 5cm}{\bf DQSharedQuery} DQSharedQuery::select (
\begin{DoxyParamCaption}
\item[{QString}]{ field}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}inherited\mbox{]}}}}
\label{classDQSharedQuery_a358915a000eb6fe7e1e7f1d32c0f34b8}


Construct a new query object with only a single field in result. 

By default, \hyperlink{classDQSharedQuery}{DQSharedQuery} retrieve all the field of the model. Call this function if you only interest for a single field

\begin{DoxyRemark}{Remarks}
If the field is not the \char`\"{}id\char`\"{} field, and you call the save() method on the model. It will insert a new entity to the database 
\end{DoxyRemark}


The documentation for this class was generated from the following file:\begin{DoxyCompactItemize}
\item 
src/dqquery.h\end{DoxyCompactItemize}
