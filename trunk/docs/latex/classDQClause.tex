\hypertarget{classDQClause}{
\section{DQClause Class Reference}
\label{classDQClause}\index{DQClause@{DQClause}}
}


The clause of a column definition.  




{\ttfamily \#include $<$dqclause.h$>$}

\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{classDQClause_a8cbc814ce3412035fbaa066b20689fe3}{Type} \{ \par
{\bfseries UNIQUE} =  0, 
{\bfseries DEFAULT}, 
{\bfseries NOT\_\-NULL}, 
{\bfseries PRIMARY\_\-KEY}, 
\par
{\bfseries FOREIGN\_\-KEY}, 
{\bfseries LAST}
 \}
\begin{DoxyCompactList}\small\item\em Supported type of clause. \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classDQClause_ae882c0d88fc37dc01c016a0ceeffbe8a}{DQClause} ()
\begin{DoxyCompactList}\small\item\em Constructs a null \hyperlink{classDQClause}{DQClause}. \item\end{DoxyCompactList}\item 
\hypertarget{classDQClause_a56478f6b405a3bde8fa0e638b68d9931}{
\hyperlink{classDQClause_a56478f6b405a3bde8fa0e638b68d9931}{DQClause} (const \hyperlink{classDQClause}{DQClause} \&other)}
\label{classDQClause_a56478f6b405a3bde8fa0e638b68d9931}

\begin{DoxyCompactList}\small\item\em Constructs a copy of other. \item\end{DoxyCompactList}\item 
\hypertarget{classDQClause_a33812fcf3fb2535d0e04c49c96652bc4}{
\hyperlink{classDQClause_a33812fcf3fb2535d0e04c49c96652bc4}{DQClause} (\hyperlink{classDQClause_a8cbc814ce3412035fbaa066b20689fe3}{DQClause::Type} type)}
\label{classDQClause_a33812fcf3fb2535d0e04c49c96652bc4}

\begin{DoxyCompactList}\small\item\em Constructs a \hyperlink{classDQClause}{DQClause} and set the clause type. \item\end{DoxyCompactList}\item 
\hypertarget{classDQClause_aabb39dd73ec1547113e21c2cdf4533df}{
\hyperlink{classDQClause_aabb39dd73ec1547113e21c2cdf4533df}{DQClause} (\hyperlink{classDQClause_a8cbc814ce3412035fbaa066b20689fe3}{Type} type, QVariant value)}
\label{classDQClause_aabb39dd73ec1547113e21c2cdf4533df}

\begin{DoxyCompactList}\small\item\em Constructs a \hyperlink{classDQClause}{DQClause} and set the clause type and its value. \item\end{DoxyCompactList}\item 
\hypertarget{classDQClause_a49f02542c1958181e10b455fc1cc7213}{
bool \hyperlink{classDQClause_a49f02542c1958181e10b455fc1cc7213}{testFlag} (\hyperlink{classDQClause_a8cbc814ce3412035fbaa066b20689fe3}{Type})}
\label{classDQClause_a49f02542c1958181e10b455fc1cc7213}

\begin{DoxyCompactList}\small\item\em TRUE if this type of clause flag is set. \item\end{DoxyCompactList}\item 
\hypertarget{classDQClause_a6b227de35ff798cb8f991e2f9244dca4}{
QVariant \hyperlink{classDQClause_a6b227de35ff798cb8f991e2f9244dca4}{flag} (\hyperlink{classDQClause_a8cbc814ce3412035fbaa066b20689fe3}{Type})}
\label{classDQClause_a6b227de35ff798cb8f991e2f9244dca4}

\begin{DoxyCompactList}\small\item\em Get the value of the clause type. \item\end{DoxyCompactList}\item 
\hypertarget{classDQClause_a64fa46e82a204f845ae5681f396dce89}{
void \hyperlink{classDQClause_a64fa46e82a204f845ae5681f396dce89}{setFlag} (\hyperlink{classDQClause_a8cbc814ce3412035fbaa066b20689fe3}{Type} type, QVariant val=true)}
\label{classDQClause_a64fa46e82a204f845ae5681f396dce89}

\begin{DoxyCompactList}\small\item\em Set the clause type with its value. \item\end{DoxyCompactList}\item 
\hyperlink{classDQClause}{DQClause} \hyperlink{classDQClause_a157d5e9daa642490f7530aba2fe1dc4d}{operator$|$} (const \hyperlink{classDQClause}{DQClause} \&other)
\begin{DoxyCompactList}\small\item\em $|$ operation overloading \item\end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
The clause of a column definition. \hyperlink{classDQClause}{DQClause} is a data structure to describe the clause of column definition for \char`\"{}create table\char`\"{}. It is used in model declaration (The second argument in DQ\_\-FIELD macro)

Example: 
\begin{DoxyCode}
class User : public DQModel
{
    DQ_MODEL
public:
    DQField<QString> userId;
    DQField<QString> name;

    DQField<QString> passwd;

    DQField<QDateTime> creationTime;
    DQField<QDateTime> lastLoginTime;

};

DQ_DECLARE_MODEL( User,
                  "user",
                  DQ_FIELD(userId, DQClause(DQClause::UNIQUE) | DQClause(DQClause
      ::NOT_NULL) ), // Unique and Not null
                  DQ_FIELD(name),
                  DQ_FIELD(passwd , DQClause(DQClause::NOT_NULL)),
                  DQ_FIELD(creationTime,DQClause(DQClause::DEFAULT,"CURRENT_TIMES
      TAMP") ),
                  DQ_FIELD(lastLoginTime)
                  );
\end{DoxyCode}


The declaration is equivalent to make this SQL table for SQLITE


\begin{DoxyCode}
    CREATE TABLE user  (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        userId TEXT NOT NULL UNIQUE,
        name TEXT ,
        passwd TEXT NOT NULL,
        creationTime DATETIME DEFAULT CURRENT_TIMESTAMP ,
        lastLoginTime DATETIME
    );
\end{DoxyCode}


\begin{DoxyRemark}{Remarks}
Usually you won't use \hyperlink{classDQClause}{DQClause} directly. There have wrapper macro for common clause available.
\end{DoxyRemark}
\begin{DoxySeeAlso}{See also}
\hyperlink{dqclause_8h_a400b2ce762bd0a0d6ec9b08603487b28}{DQNotNull} 

\hyperlink{dqclause_8h_a75d850e5a09646901dc081d053669698}{DQDefault} 

\hyperlink{dqclause_8h_aede52ea9e1a19097718c0db8053caa2d}{DQUnique} 
\end{DoxySeeAlso}


\subsection{Constructor \& Destructor Documentation}
\hypertarget{classDQClause_ae882c0d88fc37dc01c016a0ceeffbe8a}{
\index{DQClause@{DQClause}!DQClause@{DQClause}}
\index{DQClause@{DQClause}!DQClause@{DQClause}}
\subsubsection[{DQClause}]{\setlength{\rightskip}{0pt plus 5cm}DQClause::DQClause (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classDQClause_ae882c0d88fc37dc01c016a0ceeffbe8a}


Constructs a null \hyperlink{classDQClause}{DQClause}. 

\begin{DoxyAuthor}{Author}
Ben Lau 
\end{DoxyAuthor}


\subsection{Member Function Documentation}
\hypertarget{classDQClause_a157d5e9daa642490f7530aba2fe1dc4d}{
\index{DQClause@{DQClause}!operator$|$@{operator$|$}}
\index{operator$|$@{operator$|$}!DQClause@{DQClause}}
\subsubsection[{operator$|$}]{\setlength{\rightskip}{0pt plus 5cm}{\bf DQClause} DQClause::operator$|$ (
\begin{DoxyParamCaption}
\item[{const {\bf DQClause} \&}]{ other}
\end{DoxyParamCaption}
)}}
\label{classDQClause_a157d5e9daa642490f7530aba2fe1dc4d}


$|$ operation overloading 

\begin{DoxyRemark}{Remarks}
If both of the flag is set in two clause object. It will use the value specified in second clause 
\end{DoxyRemark}


The documentation for this class was generated from the following files:\begin{DoxyCompactItemize}
\item 
src/\hyperlink{dqclause_8h}{dqclause.h}\item 
src/dqclause.cpp\end{DoxyCompactItemize}
