\hypertarget{classDQSharedQuery}{
\section{DQSharedQuery Class Reference}
\label{classDQSharedQuery}\index{DQSharedQuery@{DQSharedQuery}}
}


\hyperlink{classDQSharedQuery}{DQSharedQuery} is the base class of \hyperlink{classDQQuery}{DQQuery} that support implicitly data sharing.  




{\ttfamily \#include $<$dqsharedquery.h$>$}

Inheritance diagram for DQSharedQuery:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classDQSharedQuery}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classDQSharedQuery_adbd689f6a67939723233e5887388ee1d}{
\hyperlink{classDQSharedQuery_adbd689f6a67939723233e5887388ee1d}{DQSharedQuery} ()}
\label{classDQSharedQuery_adbd689f6a67939723233e5887388ee1d}

\begin{DoxyCompactList}\small\item\em Construct a \hyperlink{classDQSharedQuery}{DQSharedQuery} object and use the default database connection. \item\end{DoxyCompactList}\item 
\hypertarget{classDQSharedQuery_afd96448bf34f6bc77aa4e6ca448db8dd}{
\hyperlink{classDQSharedQuery_afd96448bf34f6bc77aa4e6ca448db8dd}{DQSharedQuery} (\hyperlink{classDQConnection}{DQConnection} connection)}
\label{classDQSharedQuery_afd96448bf34f6bc77aa4e6ca448db8dd}

\begin{DoxyCompactList}\small\item\em Construct a \hyperlink{classDQSharedQuery}{DQSharedQuery} object and set the database connection. \item\end{DoxyCompactList}\item 
\hypertarget{classDQSharedQuery_a090c2991347ee47a7091832f4ecf8bd4}{
\hyperlink{classDQSharedQuery_a090c2991347ee47a7091832f4ecf8bd4}{DQSharedQuery} (const \hyperlink{classDQSharedQuery}{DQSharedQuery} \&)}
\label{classDQSharedQuery_a090c2991347ee47a7091832f4ecf8bd4}

\begin{DoxyCompactList}\small\item\em Copy constructor. \item\end{DoxyCompactList}\item 
\hypertarget{classDQSharedQuery_a9e1ea6245fb87d36b910f688a8c49eac}{
\hyperlink{classDQSharedQuery}{DQSharedQuery} \& \hyperlink{classDQSharedQuery_a9e1ea6245fb87d36b910f688a8c49eac}{operator=} (const \hyperlink{classDQSharedQuery}{DQSharedQuery} \&)}
\label{classDQSharedQuery_a9e1ea6245fb87d36b910f688a8c49eac}

\begin{DoxyCompactList}\small\item\em Assignment operator overloading. \item\end{DoxyCompactList}\item 
\hypertarget{classDQSharedQuery_a03b413aee7220ade27ef99bc00f4cbc6}{
\hyperlink{classDQSharedQuery_a03b413aee7220ade27ef99bc00f4cbc6}{$\sim$DQSharedQuery} ()}
\label{classDQSharedQuery_a03b413aee7220ade27ef99bc00f4cbc6}

\begin{DoxyCompactList}\small\item\em Default destructor. \item\end{DoxyCompactList}\item 
\hypertarget{classDQSharedQuery_a3f59e7684a41586b3bd1b06fc847b024}{
void \hyperlink{classDQSharedQuery_a3f59e7684a41586b3bd1b06fc847b024}{setConnection} (\hyperlink{classDQConnection}{DQConnection} connection)}
\label{classDQSharedQuery_a3f59e7684a41586b3bd1b06fc847b024}

\begin{DoxyCompactList}\small\item\em Set the connection. \item\end{DoxyCompactList}\item 
\hyperlink{classDQSharedQuery}{DQSharedQuery} \hyperlink{classDQSharedQuery_a60a2efb0904f71a2b65adc780fe86079}{select} (QStringList fields)
\begin{DoxyCompactList}\small\item\em Construct a new query object with only the fields assigned in result. \item\end{DoxyCompactList}\item 
\hyperlink{classDQSharedQuery}{DQSharedQuery} \hyperlink{classDQSharedQuery_a358915a000eb6fe7e1e7f1d32c0f34b8}{select} (QString field)
\begin{DoxyCompactList}\small\item\em Construct a new query object with only a single field in result. \item\end{DoxyCompactList}\item 
\hypertarget{classDQSharedQuery_ac2cfe9a2d996d9b5cf6ce4c8726dc233}{
\hyperlink{classDQSharedQuery}{DQSharedQuery} \hyperlink{classDQSharedQuery_ac2cfe9a2d996d9b5cf6ce4c8726dc233}{filter} (\hyperlink{classDQWhere}{DQWhere} where)}
\label{classDQSharedQuery_ac2cfe9a2d996d9b5cf6ce4c8726dc233}

\begin{DoxyCompactList}\small\item\em Construct a new query object with assigned filter. \item\end{DoxyCompactList}\item 
\hypertarget{classDQSharedQuery_af1692cc5a046c2061486277f15545af1}{
\hyperlink{classDQSharedQuery}{DQSharedQuery} \hyperlink{classDQSharedQuery_af1692cc5a046c2061486277f15545af1}{limit} (int val)}
\label{classDQSharedQuery_af1692cc5a046c2061486277f15545af1}

\begin{DoxyCompactList}\small\item\em Construct a new query object with limitation no. of result. \item\end{DoxyCompactList}\item 
\hyperlink{classDQSharedQuery}{DQSharedQuery} \hyperlink{classDQSharedQuery_a5bb811ceac95142fb45e2b1b0230fe76}{orderBy} (QStringList terms)
\begin{DoxyCompactList}\small\item\em Construct a new query object with required sorting order. \item\end{DoxyCompactList}\item 
\hyperlink{classDQSharedQuery}{DQSharedQuery} \hyperlink{classDQSharedQuery_aed99232bd84c8871265ab567b5550fe2}{orderBy} (QString term)
\begin{DoxyCompactList}\small\item\em Construct a new query object with required sorting order. \item\end{DoxyCompactList}\item 
\hypertarget{classDQSharedQuery_af9cb13ee212cf95235f982360755c263}{
bool \hyperlink{classDQSharedQuery_af9cb13ee212cf95235f982360755c263}{exec} ()}
\label{classDQSharedQuery_af9cb13ee212cf95235f982360755c263}

\begin{DoxyCompactList}\small\item\em Execute the query. \item\end{DoxyCompactList}\item 
\hypertarget{classDQSharedQuery_a454580a6ba5a8d27690b7cada60cf696}{
bool \hyperlink{classDQSharedQuery_a454580a6ba5a8d27690b7cada60cf696}{next} ()}
\label{classDQSharedQuery_a454580a6ba5a8d27690b7cada60cf696}

\begin{DoxyCompactList}\small\item\em Retrieves the next record in the result, if available, and positions the query on the retrieved record. \item\end{DoxyCompactList}\item 
\hypertarget{classDQSharedQuery_a2e4b80d4ddab5c7476fd5795a7321f0a}{
QVariant \hyperlink{classDQSharedQuery_a2e4b80d4ddab5c7476fd5795a7321f0a}{value} ()}
\label{classDQSharedQuery_a2e4b80d4ddab5c7476fd5795a7321f0a}

\begin{DoxyCompactList}\small\item\em Retrieves the first field of the current record. It is useful for query like \hyperlink{classDQSharedQuery_a371f26bb8cec5fafe81738ecbe899601}{count()} / max() , ... that will only have a single field result. \item\end{DoxyCompactList}\item 
\hypertarget{classDQSharedQuery_a371f26bb8cec5fafe81738ecbe899601}{
int \hyperlink{classDQSharedQuery_a371f26bb8cec5fafe81738ecbe899601}{count} ()}
\label{classDQSharedQuery_a371f26bb8cec5fafe81738ecbe899601}

\begin{DoxyCompactList}\small\item\em Execute the query and count no. of record retrieved. \item\end{DoxyCompactList}\item 
QVariant \hyperlink{classDQSharedQuery_a654c57e67ee37ea4483f749cfdda45ee}{call} (QString func, QStringList fields=QStringList())
\begin{DoxyCompactList}\small\item\em Execute the query and call specific function on the result. \item\end{DoxyCompactList}\item 
QVariant \hyperlink{classDQSharedQuery_a6e4ec97801fba34687bed3f7df331c70}{call} (QString func, QString field)
\begin{DoxyCompactList}\small\item\em Execute the query and call specific function on the result. \item\end{DoxyCompactList}\item 
bool \hyperlink{classDQSharedQuery_afe36230dc5efa50e5ea9456725b5b4b9}{remove} ()
\begin{DoxyCompactList}\small\item\em Delete all the records fullfill the filter rules. \item\end{DoxyCompactList}\item 
\hypertarget{classDQSharedQuery_a5f1f9c78ce1ac9f0416429a14b0f7ed7}{
\hyperlink{classDQSharedList}{DQSharedList} \hyperlink{classDQSharedQuery_a5f1f9c78ce1ac9f0416429a14b0f7ed7}{all} ()}
\label{classDQSharedQuery_a5f1f9c78ce1ac9f0416429a14b0f7ed7}

\begin{DoxyCompactList}\small\item\em Execute the query and return all the record retrieved. \item\end{DoxyCompactList}\item 
\hypertarget{classDQSharedQuery_af0ef4297145b4e4848a88ed0deddcdc9}{
QSqlQuery \hyperlink{classDQSharedQuery_af0ef4297145b4e4848a88ed0deddcdc9}{lastQuery} ()}
\label{classDQSharedQuery_af0ef4297145b4e4848a88ed0deddcdc9}

\begin{DoxyCompactList}\small\item\em Returns the QSqlQuery object being used. \item\end{DoxyCompactList}\item 
\hypertarget{classDQSharedQuery_a832dba063797f053dbef29ae8c90c804}{
void \hyperlink{classDQSharedQuery_a832dba063797f053dbef29ae8c90c804}{reset} ()}
\label{classDQSharedQuery_a832dba063797f053dbef29ae8c90c804}

\begin{DoxyCompactList}\small\item\em Reset the query to initial status , but keep the connection and associated object unchanged. \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classDQSharedQuery_a18f2c23017b66343dbbfd0ffc3a171e7}{
void \hyperlink{classDQSharedQuery_a18f2c23017b66343dbbfd0ffc3a171e7}{setMetaInfo} (\hyperlink{classDQModelMetaInfo}{DQModelMetaInfo} $\ast$info)}
\label{classDQSharedQuery_a18f2c23017b66343dbbfd0ffc3a171e7}

\begin{DoxyCompactList}\small\item\em Set the associated data model. \item\end{DoxyCompactList}\item 
\hypertarget{classDQSharedQuery_a14865995b6d86072f3f69c8770d53d0b}{
bool \hyperlink{classDQSharedQuery_a14865995b6d86072f3f69c8770d53d0b}{recordTo} (\hyperlink{classDQAbstractModel}{DQAbstractModel} $\ast$model)}
\label{classDQSharedQuery_a14865995b6d86072f3f69c8770d53d0b}

\begin{DoxyCompactList}\small\item\em Save the current record to a \hyperlink{classDQModel}{DQModel}. \item\end{DoxyCompactList}\item 
bool \hyperlink{classDQSharedQuery_a62635ab0fa890f085fe2e02bd5d2064e}{get} (\hyperlink{classDQAbstractModel}{DQAbstractModel} $\ast$model)
\begin{DoxyCompactList}\small\item\em Get a single record that first match with the filter (limit(1) will be set). \item\end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
\hyperlink{classDQSharedQuery}{DQSharedQuery} is the base class of \hyperlink{classDQQuery}{DQQuery} that support implicitly data sharing. \hyperlink{classDQSharedQuery}{DQSharedQuery} is the base class of \hyperlink{classDQQuery}{DQQuery} that hold all the information for a query. It is a implicitly shared class which is designed for query data exchange between different objects.

Although most of the function return \hyperlink{classDQSharedQuery}{DQSharedQuery} instead of \hyperlink{classDQQuery}{DQQuery} , user should always use \hyperlink{classDQQuery}{DQQuery}. They are exchangable, that means \hyperlink{classDQSharedQuery}{DQSharedQuery} can be converted to \hyperlink{classDQQuery}{DQQuery}, and vice visa.

\begin{DoxyRemark}{Remarks}
It is a implicitly shared class 
\end{DoxyRemark}


\subsection{Member Function Documentation}
\hypertarget{classDQSharedQuery_a654c57e67ee37ea4483f749cfdda45ee}{
\index{DQSharedQuery@{DQSharedQuery}!call@{call}}
\index{call@{call}!DQSharedQuery@{DQSharedQuery}}
\subsubsection[{call}]{\setlength{\rightskip}{0pt plus 5cm}QVariant DQSharedQuery::call (
\begin{DoxyParamCaption}
\item[{QString}]{ func, }
\item[{QStringList}]{ fields = {\ttfamily QStringList()}}
\end{DoxyParamCaption}
)}}
\label{classDQSharedQuery_a654c57e67ee37ea4483f749cfdda45ee}


Execute the query and call specific function on the result. 


\begin{DoxyParams}{Parameters}
\item[{\em func}]The function name (e.g sum , avg , ...) \item[{\em fields}]A list of fields that could be passed to the function \end{DoxyParams}
\hypertarget{classDQSharedQuery_a6e4ec97801fba34687bed3f7df331c70}{
\index{DQSharedQuery@{DQSharedQuery}!call@{call}}
\index{call@{call}!DQSharedQuery@{DQSharedQuery}}
\subsubsection[{call}]{\setlength{\rightskip}{0pt plus 5cm}QVariant DQSharedQuery::call (
\begin{DoxyParamCaption}
\item[{QString}]{ func, }
\item[{QString}]{ field}
\end{DoxyParamCaption}
)}}
\label{classDQSharedQuery_a6e4ec97801fba34687bed3f7df331c70}


Execute the query and call specific function on the result. 


\begin{DoxyParams}{Parameters}
\item[{\em func}]The function name (e.g sum , avg , ...) \item[{\em field}]The field that should be passed to the function \end{DoxyParams}
\hypertarget{classDQSharedQuery_a62635ab0fa890f085fe2e02bd5d2064e}{
\index{DQSharedQuery@{DQSharedQuery}!get@{get}}
\index{get@{get}!DQSharedQuery@{DQSharedQuery}}
\subsubsection[{get}]{\setlength{\rightskip}{0pt plus 5cm}bool DQSharedQuery::get (
\begin{DoxyParamCaption}
\item[{{\bf DQAbstractModel} $\ast$}]{ model}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classDQSharedQuery_a62635ab0fa890f085fe2e02bd5d2064e}


Get a single record that first match with the filter (limit(1) will be set). 


\begin{DoxyParams}{Parameters}
\item[{\em model}]The record will be saved to the object \end{DoxyParams}
\begin{DoxyReturn}{Returns}
TRUE if success , the result will be saved to the model argument. Otherwise it is false. 
\end{DoxyReturn}
\hypertarget{classDQSharedQuery_aed99232bd84c8871265ab567b5550fe2}{
\index{DQSharedQuery@{DQSharedQuery}!orderBy@{orderBy}}
\index{orderBy@{orderBy}!DQSharedQuery@{DQSharedQuery}}
\subsubsection[{orderBy}]{\setlength{\rightskip}{0pt plus 5cm}{\bf DQSharedQuery} DQSharedQuery::orderBy (
\begin{DoxyParamCaption}
\item[{QString}]{ term}
\end{DoxyParamCaption}
)}}
\label{classDQSharedQuery_aed99232bd84c8871265ab567b5550fe2}


Construct a new query object with required sorting order. 

It is a overloaded function \hypertarget{classDQSharedQuery_a5bb811ceac95142fb45e2b1b0230fe76}{
\index{DQSharedQuery@{DQSharedQuery}!orderBy@{orderBy}}
\index{orderBy@{orderBy}!DQSharedQuery@{DQSharedQuery}}
\subsubsection[{orderBy}]{\setlength{\rightskip}{0pt plus 5cm}{\bf DQSharedQuery} DQSharedQuery::orderBy (
\begin{DoxyParamCaption}
\item[{QStringList}]{ terms}
\end{DoxyParamCaption}
)}}
\label{classDQSharedQuery_a5bb811ceac95142fb45e2b1b0230fe76}


Construct a new query object with required sorting order. 


\begin{DoxyParams}{Parameters}
\item[{\em terms}]The ordering terms\end{DoxyParams}
The ordering terms is basically equal to the field name. You may add the clause ASC / DESC next to the field name, then it will be sorted by asc / desc ordering.

Example: 
\begin{DoxyCode}
    DQQuery<HealthCheck> query;

    DQList<HealthCheck> result;

    result = query.orderBy("height").all();
    result = query.orderBy("height asc").all();
    result = query.orderBy("height desc").all();
\end{DoxyCode}
 \hypertarget{classDQSharedQuery_afe36230dc5efa50e5ea9456725b5b4b9}{
\index{DQSharedQuery@{DQSharedQuery}!remove@{remove}}
\index{remove@{remove}!DQSharedQuery@{DQSharedQuery}}
\subsubsection[{remove}]{\setlength{\rightskip}{0pt plus 5cm}bool DQSharedQuery::remove (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classDQSharedQuery_afe36230dc5efa50e5ea9456725b5b4b9}


Delete all the records fullfill the filter rules. 

\begin{DoxyReturn}{Returns}
TRUE if the operation is successfully run , otherwise it is false. 
\end{DoxyReturn}
\hypertarget{classDQSharedQuery_a60a2efb0904f71a2b65adc780fe86079}{
\index{DQSharedQuery@{DQSharedQuery}!select@{select}}
\index{select@{select}!DQSharedQuery@{DQSharedQuery}}
\subsubsection[{select}]{\setlength{\rightskip}{0pt plus 5cm}{\bf DQSharedQuery} DQSharedQuery::select (
\begin{DoxyParamCaption}
\item[{QStringList}]{ fields}
\end{DoxyParamCaption}
)}}
\label{classDQSharedQuery_a60a2efb0904f71a2b65adc780fe86079}


Construct a new query object with only the fields assigned in result. 

By default, \hyperlink{classDQSharedQuery}{DQSharedQuery} retrieve all the field of the model. Call this function if you only interest for specific fields.

\begin{DoxyRemark}{Remarks}
If you don't specific the \char`\"{}id\char`\"{} field. It will not load the field. If you save the model , it will insert a new entity to the database. 
\end{DoxyRemark}
\hypertarget{classDQSharedQuery_a358915a000eb6fe7e1e7f1d32c0f34b8}{
\index{DQSharedQuery@{DQSharedQuery}!select@{select}}
\index{select@{select}!DQSharedQuery@{DQSharedQuery}}
\subsubsection[{select}]{\setlength{\rightskip}{0pt plus 5cm}{\bf DQSharedQuery} DQSharedQuery::select (
\begin{DoxyParamCaption}
\item[{QString}]{ field}
\end{DoxyParamCaption}
)}}
\label{classDQSharedQuery_a358915a000eb6fe7e1e7f1d32c0f34b8}


Construct a new query object with only a single field in result. 

By default, \hyperlink{classDQSharedQuery}{DQSharedQuery} retrieve all the field of the model. Call this function if you only interest for a single field

\begin{DoxyRemark}{Remarks}
If the field is not the \char`\"{}id\char`\"{} field, and you call the save() method on the model. It will insert a new entity to the database 
\end{DoxyRemark}


The documentation for this class was generated from the following files:\begin{DoxyCompactItemize}
\item 
src/dqsharedquery.h\item 
src/dqsharedquery.cpp\end{DoxyCompactItemize}
