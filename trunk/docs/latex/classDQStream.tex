\hypertarget{classDQStream}{
\section{DQStream Class Reference}
\label{classDQStream}\index{DQStream@{DQStream}}
}


\hyperlink{classDQStream}{DQStream} class provides a stream interface for reading and writing data model field.  




{\ttfamily \#include $<$dqstream.h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classDQStream_a548b1f2c21543249ac263dbead7c125e}{DQStream} ()
\begin{DoxyCompactList}\small\item\em Default constructor. \item\end{DoxyCompactList}\item 
\hyperlink{classDQStream_ac27cdd0e3a3e28b1edc5f5a996205bd2}{DQStream} (\hyperlink{classDQAbstractModel}{DQAbstractModel} $\ast$model)
\begin{DoxyCompactList}\small\item\em Construct a \hyperlink{classDQStream}{DQStream} operates on target model. \item\end{DoxyCompactList}\item 
void \hyperlink{classDQStream_ac77b97b74f886bcedd0cc688cbfc00e0}{open} (\hyperlink{classDQAbstractModel}{DQAbstractModel} $\ast$model)
\begin{DoxyCompactList}\small\item\em Open and set the target model for read / write. \item\end{DoxyCompactList}\item 
\hypertarget{classDQStream_a03a3cf9809f43afda9d2456fac4c358e}{
\hyperlink{classDQAbstractModel}{DQAbstractModel} $\ast$ \hyperlink{classDQStream_a03a3cf9809f43afda9d2456fac4c358e}{model} ()}
\label{classDQStream_a03a3cf9809f43afda9d2456fac4c358e}

\begin{DoxyCompactList}\small\item\em Get the target model. \item\end{DoxyCompactList}\item 
\hypertarget{classDQStream_a81dd23f260f0ba41388a4122d46fd472}{
int \hyperlink{classDQStream_a81dd23f260f0ba41388a4122d46fd472}{currentField} ()}
\label{classDQStream_a81dd23f260f0ba41388a4122d46fd472}

\begin{DoxyCompactList}\small\item\em Get the index of the current reading/ writing field. \item\end{DoxyCompactList}\item 
void \hyperlink{classDQStream_afdec804fdfd654dff92e2f60ebe76018}{write} (const QVariant value)
\begin{DoxyCompactList}\small\item\em Write the value to data model at current field. \item\end{DoxyCompactList}\item 
\hypertarget{classDQStream_a182af12d29578dfceaf18947a3be1d01}{
void \hyperlink{classDQStream_a182af12d29578dfceaf18947a3be1d01}{read} (QVariant \&target)}
\label{classDQStream_a182af12d29578dfceaf18947a3be1d01}

\begin{DoxyCompactList}\small\item\em Read the current field and save to target variable. \item\end{DoxyCompactList}\item 
\hypertarget{classDQStream_ae20759e81d4b8f36ed622c57b96eacb7}{
void \hyperlink{classDQStream_ae20759e81d4b8f36ed622c57b96eacb7}{close} ()}
\label{classDQStream_ae20759e81d4b8f36ed622c57b96eacb7}

\begin{DoxyCompactList}\small\item\em Close the stream and release the resource holding. \item\end{DoxyCompactList}\item 
\hyperlink{classDQStream}{DQStream} \& \hyperlink{classDQStream_ad591d873d4de79097cb8c50e619082f6}{operator$<$$<$} (const QVariant value)
\begin{DoxyCompactList}\small\item\em Write the value to data model at current field. \item\end{DoxyCompactList}\item 
\hyperlink{classDQStream}{DQStream} \& \hyperlink{classDQStream_a43ff7bde07a6a9dd40c0ed76db98b5b7}{operator$>$$>$} (QVariant \&target)
\begin{DoxyCompactList}\small\item\em Read the current field and save to target variable. \item\end{DoxyCompactList}\item 
\hyperlink{classDQStream}{DQStream} \& \hyperlink{classDQStream_a34dd5fbba4cef0dcce46656cbd3c2d5b}{operator$>$$>$} (QString \&target)
\begin{DoxyCompactList}\small\item\em Read the current field and save to target variable. \item\end{DoxyCompactList}\item 
\hyperlink{classDQStream}{DQStream} \& \hyperlink{classDQStream_a62809507138da17e2688f3190b94ad9f}{operator$>$$>$} (int \&target)
\begin{DoxyCompactList}\small\item\em Read the current field and save to target variable. \item\end{DoxyCompactList}\item 
\hyperlink{classDQStream}{DQStream} \& \hyperlink{classDQStream_a48933b649572d912895541df130512fd}{operator$>$$>$} (double \&target)
\begin{DoxyCompactList}\small\item\em Read the current field and save to target variable. \item\end{DoxyCompactList}\item 
\hyperlink{classDQStream}{DQStream} \& \hyperlink{classDQStream_a14e001642cbe6c4950110fc36c4e4c94}{operator$>$$>$} (QDateTime \&target)
\begin{DoxyCompactList}\small\item\em Read the current field and save to target variable. \item\end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
\hyperlink{classDQStream}{DQStream} class provides a stream interface for reading and writing data model field. \begin{DoxyAuthor}{Author}
Ben Lau
\end{DoxyAuthor}
Using DQStrem's streaming operator , you could read and write the data model field in a simplifer way.

Assume you have the following data model:


\begin{DoxyCode}

class HealthCheck : public DQModel {
    DQ_MODEL
public:

    DQField<QString> name;
    DQField<int>     height;
    DQField<double>  weight;
};

DQ_DECLARE_MODEL(HealthCheck,
                 "healthcheck",
                 DQ_FIELD(name , DQNotNull),
                 DQ_FIELD(height),
                 DQ_FIELD(weight)
                 );
\end{DoxyCode}


You can read and write using the streaming operators

Write example: 
\begin{DoxyCode}
    HealthCheck record;
    DQStream stream(&record);

    stream << "Tester 1" << 179 << 120.5;
    //Then record = ["Tester 1" , 179,120.5]
\end{DoxyCode}


Read example:


\begin{DoxyCode}
    DQStream stream(&record);
    QString name;
    QString height;
    QString weight;

    stream >> name >> height >> weight;
\end{DoxyCode}


\begin{DoxyRemark}{Remarks}
The sequence of read/write is equal to the registration order in DQ\_\-DECLARE\_\-MODEL. It is nothing related to its declaration order in class declaration. 
\end{DoxyRemark}


\subsection{Constructor \& Destructor Documentation}
\hypertarget{classDQStream_a548b1f2c21543249ac263dbead7c125e}{
\index{DQStream@{DQStream}!DQStream@{DQStream}}
\index{DQStream@{DQStream}!DQStream@{DQStream}}
\subsubsection[{DQStream}]{\setlength{\rightskip}{0pt plus 5cm}DQStream::DQStream (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classDQStream_a548b1f2c21543249ac263dbead7c125e}


Default constructor. 

\begin{DoxyAuthor}{Author}
Ben Lau $<$\href{mailto:xbenlau@gmail.com}{\tt xbenlau@gmail.com}$>$ 
\end{DoxyAuthor}
\hypertarget{classDQStream_ac27cdd0e3a3e28b1edc5f5a996205bd2}{
\index{DQStream@{DQStream}!DQStream@{DQStream}}
\index{DQStream@{DQStream}!DQStream@{DQStream}}
\subsubsection[{DQStream}]{\setlength{\rightskip}{0pt plus 5cm}DQStream::DQStream (
\begin{DoxyParamCaption}
\item[{{\bf DQAbstractModel} $\ast$}]{ model}
\end{DoxyParamCaption}
)}}
\label{classDQStream_ac27cdd0e3a3e28b1edc5f5a996205bd2}


Construct a \hyperlink{classDQStream}{DQStream} operates on target model. 

The constructor will open the target model for read/write automatically \begin{DoxySeeAlso}{See also}
\hyperlink{classDQStream_ac77b97b74f886bcedd0cc688cbfc00e0}{open} 
\end{DoxySeeAlso}


\subsection{Member Function Documentation}
\hypertarget{classDQStream_ac77b97b74f886bcedd0cc688cbfc00e0}{
\index{DQStream@{DQStream}!open@{open}}
\index{open@{open}!DQStream@{DQStream}}
\subsubsection[{open}]{\setlength{\rightskip}{0pt plus 5cm}void DQStream::open (
\begin{DoxyParamCaption}
\item[{{\bf DQAbstractModel} $\ast$}]{ model}
\end{DoxyParamCaption}
)}}
\label{classDQStream_ac77b97b74f886bcedd0cc688cbfc00e0}


Open and set the target model for read / write. 


\begin{DoxyParams}{Parameters}
\item[{\em model}]The target model for read / write. The model must contains more than a field. Otherwise the operation will be failed. \end{DoxyParams}
\begin{DoxyRemark}{Remarks}
It will reset the value returned by \hyperlink{classDQStream_a81dd23f260f0ba41388a4122d46fd472}{currentField()} 
\end{DoxyRemark}
\hypertarget{classDQStream_ad591d873d4de79097cb8c50e619082f6}{
\index{DQStream@{DQStream}!operator$<$$<$@{operator$<$$<$}}
\index{operator$<$$<$@{operator$<$$<$}!DQStream@{DQStream}}
\subsubsection[{operator$<$$<$}]{\setlength{\rightskip}{0pt plus 5cm}{\bf DQStream} \& DQStream::operator$<$$<$ (
\begin{DoxyParamCaption}
\item[{const QVariant}]{ value}
\end{DoxyParamCaption}
)}}
\label{classDQStream_ad591d873d4de79097cb8c50e619082f6}


Write the value to data model at current field. 

\begin{DoxyRemark}{Remarks}
It is a wrapper of \hyperlink{classDQStream_afdec804fdfd654dff92e2f60ebe76018}{write()}. 
\end{DoxyRemark}
\hypertarget{classDQStream_a43ff7bde07a6a9dd40c0ed76db98b5b7}{
\index{DQStream@{DQStream}!operator$>$$>$@{operator$>$$>$}}
\index{operator$>$$>$@{operator$>$$>$}!DQStream@{DQStream}}
\subsubsection[{operator$>$$>$}]{\setlength{\rightskip}{0pt plus 5cm}{\bf DQStream} \& DQStream::operator$>$$>$ (
\begin{DoxyParamCaption}
\item[{QVariant \&}]{ target}
\end{DoxyParamCaption}
)}}
\label{classDQStream_a43ff7bde07a6a9dd40c0ed76db98b5b7}


Read the current field and save to target variable. 

\begin{DoxyRemark}{Remarks}
It is a wrapper of \hyperlink{classDQStream_a182af12d29578dfceaf18947a3be1d01}{read()}. 
\end{DoxyRemark}
\hypertarget{classDQStream_a48933b649572d912895541df130512fd}{
\index{DQStream@{DQStream}!operator$>$$>$@{operator$>$$>$}}
\index{operator$>$$>$@{operator$>$$>$}!DQStream@{DQStream}}
\subsubsection[{operator$>$$>$}]{\setlength{\rightskip}{0pt plus 5cm}{\bf DQStream} \& DQStream::operator$>$$>$ (
\begin{DoxyParamCaption}
\item[{double \&}]{ target}
\end{DoxyParamCaption}
)}}
\label{classDQStream_a48933b649572d912895541df130512fd}


Read the current field and save to target variable. 

\begin{DoxyRemark}{Remarks}
It is a wrapper of \hyperlink{classDQStream_a182af12d29578dfceaf18947a3be1d01}{read()}. 
\end{DoxyRemark}
\hypertarget{classDQStream_a34dd5fbba4cef0dcce46656cbd3c2d5b}{
\index{DQStream@{DQStream}!operator$>$$>$@{operator$>$$>$}}
\index{operator$>$$>$@{operator$>$$>$}!DQStream@{DQStream}}
\subsubsection[{operator$>$$>$}]{\setlength{\rightskip}{0pt plus 5cm}{\bf DQStream} \& DQStream::operator$>$$>$ (
\begin{DoxyParamCaption}
\item[{QString \&}]{ target}
\end{DoxyParamCaption}
)}}
\label{classDQStream_a34dd5fbba4cef0dcce46656cbd3c2d5b}


Read the current field and save to target variable. 

\begin{DoxyRemark}{Remarks}
It is a wrapper of \hyperlink{classDQStream_a182af12d29578dfceaf18947a3be1d01}{read()}. 
\end{DoxyRemark}
\hypertarget{classDQStream_a62809507138da17e2688f3190b94ad9f}{
\index{DQStream@{DQStream}!operator$>$$>$@{operator$>$$>$}}
\index{operator$>$$>$@{operator$>$$>$}!DQStream@{DQStream}}
\subsubsection[{operator$>$$>$}]{\setlength{\rightskip}{0pt plus 5cm}{\bf DQStream} \& DQStream::operator$>$$>$ (
\begin{DoxyParamCaption}
\item[{int \&}]{ target}
\end{DoxyParamCaption}
)}}
\label{classDQStream_a62809507138da17e2688f3190b94ad9f}


Read the current field and save to target variable. 

\begin{DoxyRemark}{Remarks}
It is a wrapper of \hyperlink{classDQStream_a182af12d29578dfceaf18947a3be1d01}{read()}. 
\end{DoxyRemark}
\hypertarget{classDQStream_a14e001642cbe6c4950110fc36c4e4c94}{
\index{DQStream@{DQStream}!operator$>$$>$@{operator$>$$>$}}
\index{operator$>$$>$@{operator$>$$>$}!DQStream@{DQStream}}
\subsubsection[{operator$>$$>$}]{\setlength{\rightskip}{0pt plus 5cm}{\bf DQStream} \& DQStream::operator$>$$>$ (
\begin{DoxyParamCaption}
\item[{QDateTime \&}]{ target}
\end{DoxyParamCaption}
)}}
\label{classDQStream_a14e001642cbe6c4950110fc36c4e4c94}


Read the current field and save to target variable. 

\begin{DoxyRemark}{Remarks}
It is a wrapper of \hyperlink{classDQStream_a182af12d29578dfceaf18947a3be1d01}{read()}. 
\end{DoxyRemark}
\hypertarget{classDQStream_afdec804fdfd654dff92e2f60ebe76018}{
\index{DQStream@{DQStream}!write@{write}}
\index{write@{write}!DQStream@{DQStream}}
\subsubsection[{write}]{\setlength{\rightskip}{0pt plus 5cm}void DQStream::write (
\begin{DoxyParamCaption}
\item[{const QVariant}]{ value}
\end{DoxyParamCaption}
)}}
\label{classDQStream_afdec804fdfd654dff92e2f60ebe76018}


Write the value to data model at current field. 

\begin{DoxyRemark}{Remarks}
The \char`\"{}id\char`\"{} field is ignored in writing 
\end{DoxyRemark}


The documentation for this class was generated from the following files:\begin{DoxyCompactItemize}
\item 
src/dqstream.h\item 
src/dqstream.cpp\end{DoxyCompactItemize}
